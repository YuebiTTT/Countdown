<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<!-- 确保移动设备正确缩放 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>高考倒计时</title>
<link rel="stylesheet" href="gk.css">
<script src="gk.js"></script>
</head>
<body>
    <!-- 鼠标跟随效果元素 -->
    <div id="mouse-follower" class="mouse-follower">
        <div class="follower-circle"></div>
    </div>
    
    <div class="background-container">
        <!-- 视频背景元素 -->
        <video id="backgroundVideo" class="background-video" autoplay muted loop playsinline></video>
    </div>
    <div class="overlay"></div> <!-- 浅灰色遮罩层 -->
    <div class="blur-target">
        <div class="content">
            <h1 class="auto-color">距离 <span id="year">0</span> 年 <span id="examType">高考</span> 还有 <span id="days" class="dynamic-color">0</span> 天</h1>
            <div id="countdown" class="countdown auto-color">
              <span id="hours" class="dynamic-color">00</span>时
              <span id="minutes" class="dynamic-color">00</span>分
              <span id="seconds" class="dynamic-color">00</span>秒
            </div>
            <div id="greeting" class="greeting auto-color"></div>
            <div class="hitokoto-wrapper">
                <div id="hitokoto" class="hitokoto auto-color">
                    <span id="hitokoto-content"></span>
                    <span id="hitokoto-source"></span>
                </div>
            </div>
        </div>
        <!-- 页脚 -->
        <footer>
            <!--p>本页面由 <a target="_blank" href="https://xingchencloud.top/">叶玖洛</a> 制作，随机一言功能基于 <a target="_blank" href="https://hitokoto.cn/">一言</a> API 实现。Bing每日壁纸背景API由 <a target="_blank" href="https://api.paugram.com/help/bing">保罗</a> 提供。</p-->
        </footer>
        
        <!-- 自定义倒计时按钮 -->
        <div id="customCountdownBtn" class="custom-countdown-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24">
                <path d="M14 10H9v7H7V10H2V8h20v2h-5zm-2-7c4.2 0 7.8 3.6 7.8 7.8 0 4.2-3.6 7.8-7.8 7.8S4.2 15.96 4.2 11.8 7.8 4 12 4m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/>
            </svg>
        </div>
        
        <!-- 自定义倒计时弹窗 -->
        <div id="customCountdownModal" class="custom-countdown-modal">
            <div class="custom-countdown-modal-content">
                <span class="close-btn">&times;</span>
                <h3>自定义倒计时</h3>
                <div class="modal-body">
                    <div class="countdown-inputs">
                        <div class="input-group">
                            <input type="number" id="minutesInput" placeholder="分钟" min="0" max="59">
                            <span class="input-label">分钟</span>
                        </div>
                        <div class="input-group">
                            <input type="number" id="secondsInput" placeholder="秒" min="0" max="59">
                            <span class="input-label">秒</span>
                        </div>
                    </div>
                    <button id="startCountdownBtn" class="apply-btn">开始倒计时</button>
                    <div class="preset-countdowns">
                        <p>或选择预设时间</p>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-minutes="0" data-seconds="30">30秒</button>
                            <button class="preset-btn" data-minutes="1" data-seconds="0">1分钟</button>
                            <button class="preset-btn" data-minutes="5" data-seconds="0">5分钟</button>
                            <button class="preset-btn" data-minutes="10" data-seconds="0">10分钟</button>
                            <button class="preset-btn" data-minutes="15" data-seconds="0">15分钟</button>
                            <button class="preset-btn" data-minutes="30" data-seconds="0">30分钟</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 自定义倒计时显示区域 -->
        <div id="customCountdownDisplay" class="custom-countdown-display">
            <div class="custom-countdown" id="countdownTextContainer">
                <span class="countdown-time">
                    <p><span id="customCountdownMinutes">00</span>分</p>
                    <p><span id="customCountdownSeconds">00</span>秒</p>
                </span>
                <span class="countdown-cancel" style="display: none;">取消</span>
            </div>
        </div>
    </div>
    <div id="cheerMessage" class="cheer-message"> </div>
    
    <!-- 通用提示模态框 -->
    <!-- 模态框已移除，根据用户要求不显示任何提示 -->
    
    <!-- 设置按钮 -->
    <div id="settingsBtn" class="settings-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24">
            <path d="M19.14,12.94c.04-.3,.06-.61,.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14,.23-.41,.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39,.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24,0-.43,.17-.47,.41l-.36,2.54c-.59,.24-1.13,.57-1.62,.94l-2.39-.96c-.22-.08-.47,0-.59,.22L2.74,8.87c-.12,.21-.08,.47,.12,.61l2.03,1.58c-.05,.3-.09,.63-.09,.94s.02,.64,.07,.94l-2.03,1.58c-.18,.14-.23,.41-.12,.61l1.92,3.32c.12,.22,.37,.29,.59,.22l2.39-.96c.5,.38,1.03,.7,1.62,.94l.36,2.54c.05,.24,.24,.41,.48,.41h3.84c.24,0,.44-.17,.47-.41l.36-2.54c.59-.24,1.13-.56,1.62-.94l2.39,.96c.22,.08,.47,0,.59-.22l1.92-3.32c.12-.22,.07-.47-.12-.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
        </svg>
    </div>

    <!-- 设置弹窗 -->
    <div id="settingsModal" class="settings-modal">
        <div class="settings-modal-content">
            <div class="modal-header">
                <h2>设置</h2>
                <span class="close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <!-- 导航标签 -->
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="background">背景</button>
                    <button class="tab-btn" data-tab="display">显示</button>
                    <button class="tab-btn" data-tab="effects">效果</button>
                </div>
                
                <!-- 标签内容 -->
                <div class="tab-content">
                    <!-- 背景设置 -->
                    <div class="tab-pane active" id="background">
                        <div class="setting-section">
                            <h3>自定义背景图片</h3>
                            <div class="url-input-group">
                                <input type="text" id="bgImageUrl" placeholder="https://example.com/image.jpg" class="url-input">
                                <button id="applyBgBtn" class="primary-btn">应用URL</button>
                                <button id="clearBgBtn" class="secondary-btn">清除背景</button>
                            </div>
                        </div>
                        
                        <div class="setting-section">
                            <h3>上传本地文件</h3>
                            <div class="file-upload-wrapper">
                                <input type="file" id="bgImageUpload" accept="image/*,video/mp4,video/webm,video/ogg" style="display: none;">
                                <button id="uploadBtn" class="secondary-btn upload-btn">选择图片或视频上传</button>
                                <span id="fileName" class="file-name"></span>
                                <p class="file-info">支持常见图片格式（JPG、PNG、GIF等）和视频格式（MP4、WebM、OGG等）</p>
                            </div>
                            
                            <!-- 文件大小限制提示和开关 -->
                            <div class="toggle-setting">
                                <span>文件大小限制（50MB）</span>
                                <label class="switch">
                                    <input type="checkbox" id="sizeLimitToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-section">
                            <h3>预设背景</h3>
                            <div class="preset-grid">
                                <div class="preset-item">
                                    <img src="./stsr.png" alt="城市" data-url="./stsr.png">
                                    <span>城市</span>
                                </div>
                                <div class="preset-item">
                                    <img src="https://images.unsplash.com/photo-1470790376778-a9fbc86d70e2" alt="山脉" data-url="https://images.unsplash.com/photo-1470790376778-a9fbc86d70e2">
                                    <span>纸张</span>
                                </div>
                                <div class="preset-item">
                                    <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470" alt="星空" data-url="https://images.unsplash.com/photo-1501785888041-af3ef285b470">
                                    <span>山水</span>
                                </div>
                                <div class="preset-item">
                                    <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e" alt="森林" data-url="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e">
                                    <span>街道</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 显示设置 -->
                    <div class="tab-pane" id="display">
                        <div class="setting-section">
                            <h3>字体大小调整</h3>
                            <div class="slider-control">
                                <input type="range" id="customFontSize" min="0.6" max="1.8" step="0.1" value="1.0">
                                <div class="size-indicators">
                                    <span>A</span>
                                    <span id="fontSizeValue" class="current-size">当前大小: 100%</span>
                                    <span>A</span>
                                </div>
                            </div>
                            <div class="preset-size-buttons">
                                <button class="size-btn" data-size="0.8">小</button>
                                <button class="size-btn active" data-size="1.0">中</button>
                                <button class="size-btn" data-size="1.2">大</button>
                                <button class="size-btn" data-size="1.4">超大</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 效果设置 -->
                    <div class="tab-pane" id="effects">
                        <div class="setting-section">
                            <h3>交互效果</h3>
                            <div class="toggle-setting">
                                <span>点击波纹效果</span>
                                <label class="switch">
                                    <input type="checkbox" id="enableRippleToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                            
                            <div class="toggle-setting">
                                <span>鼠标跟随效果</span>
                                <label class="switch">
                                    <input type="checkbox" id="enableMouseFollowerToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                            
                            <div class="toggle-setting">
                                <span>背景视差效果</span>
                                <label class="switch">
                                    <input type="checkbox" id="disableParallaxToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                            
                            <div class="slider-control" id="parallaxIntensityControl">
                                <span>视差强度</span>
                                <input type="range" id="parallaxIntensity" min="5" max="30" step="1" value="15">
                                <div class="size-indicators">
                                    <span>弱</span>
                                    <span id="parallaxValue" class="current-size">当前: 15px</span>
                                    <span>强</span>
                                </div>
                            </div>
                            
                            <div class="slider-control" id="overlayOpacityControl">
                                <span>遮罩层透明度</span>
                                <input type="range" id="overlayOpacity" min="0.3" max="0.8" step="0.1" value="0.5">
                                <div class="size-indicators">
                                    <span>透明</span>
                                    <span id="overlayOpacityValue" class="current-size">当前: 50%</span>
                                    <span>不透明</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-section">
                            <h3>一言设置</h3>
                            <div class="toggle-setting">
                                <span>一言边框效果</span>
                                <label class="switch">
                                    <input type="checkbox" id="hitokotoBorderToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                            <div class="toggle-setting">
                                <span>一言来源</span>
                                <select id="hitokotoSourceSelect" class="source-select">
                                    <option value="api">一言API</option>
                                    <option value="custom">自定义</option>
                                    <option value="custom_list">导入多条</option>
                                </select>
                            </div>
                            <div class="custom-hitokoto-section">
                                <span>自定义一言内容</span>
                                <textarea id="customHitokotoText" placeholder="请输入您的自定义一言内容..." rows="3"></textarea>
                                <div class="hitokoto-source-input">
                                    <input type="text" id="customHitokotoSource" placeholder="来源（可选）">
                                </div>
                                <div class="setting-actions">
                                    <button id="saveCustomHitokotoBtn" class="primary-btn">保存自定义一言</button>
                                </div>
                            </div>
                            <div id="customListSection" class="custom-hitokoto-section" style="display: none;">
                                <span>多条自定义一言</span>
                                <div class="file-import-section">
                                    <p>请上传txt文件，每行一条一言，格式为：一言内容[|来源]</p>
                                    <div class="file-import-btn-wrapper">
                                        <input type="file" id="hitokotoFileInput" accept=".txt">
                                        <button id="customFileUploadBtn" class="file-import-btn">选择文件上传</button>
                                    </div>
                                    <div id="importStatus" class="import-status"></div>
                                </div>
                                <div class="setting-actions">
                                    <button id="importFileBtn" class="primary-btn">导入文件</button>
                                    <button id="clearImportedBtn" class="secondary-btn">清除导入</button>
                                </div>
                            </div>
                            <button id="refreshHitokotoBtn" class="secondary-btn" onclick="fetchHitokoto()">更新一言</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>